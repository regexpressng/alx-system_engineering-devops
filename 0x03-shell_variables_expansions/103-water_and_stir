#!/bin/bash

to_dec() {
  n="$1"
  base="$2"
  d=0
  l=${#base}
  for ((i=0;i<${#n};i++))
  do
    c="${n:$i:1}"
    idx=$(expr index "$base" "$c")
    d=$((d*l + idx - 1))
  done
  echo $d
}

from_dec() {
  n=$1
  base="$2"
  r=""
  l=${#base}
  if [ "$n" -eq 0 ]
  then
    echo "${base:0:1}"
    return
  fi
  while [ "$n" -gt 0 ]
  do
    rem=$(( n % l ))
    r="${base:rem:1}$r"
    n=$(( n / l ))
  done
  echo "$r"
}

from_dec $(( $(to_dec "$WATER" "water") + $(to_dec "$STIR" "stir") )) "bestchol"
